---
apiVersion: gateway.envoyproxy.io/v1alpha1
kind: SecurityPolicy
metadata:
  name: envoy-gateway-security
  namespace: network
spec:
  targetRef:
    group: gateway.networking.k8s.io
    kind: Gateway
    name: external
  cors:
    allowOrigins:
      - "https://*.${SECRET_DOMAIN}"
    allowMethods:
      - GET
      - POST
      - PUT
      - DELETE
      - OPTIONS
    allowHeaders:
      - "Content-Type"
      - "Authorization"
      - "X-Requested-With"
    exposeHeaders:
      - "Content-Length"
      - "Content-Range"
    allowCredentials: true
    maxAge: "86400"
